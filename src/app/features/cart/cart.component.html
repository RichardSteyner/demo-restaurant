<div class="container mx-auto px-4 py-12">
	<!-- Section Title -->
	<div class="mb-8">
		<h1 class="text-4xl font-bold text-primary">Carrito de Compras</h1>
	</div>

	<!-- Cart Content -->
	<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
		<!-- Items List -->
		<div class="lg:col-span-2">
			@if (cartItems().length === 0) {
			<div class="bg-white rounded-lg shadow p-8 text-center">
				<p class="text-gray-600 text-lg mb-4">Tu carrito está vacío</p>
				<a routerLink="/menu" class="btn-primary">Continuar Comprando</a>
			</div>
			} @else {
			<div class="space-y-4">
				@for (item of cartItems(); track item.product.id) {
				<div class="bg-white rounded-lg shadow p-4">
					<div class="flex gap-4">
						<!-- Product Image -->
						<img [src]="item.product.image" [alt]="item.product.name"
							class="w-24 h-24 object-cover rounded" />

						<!-- Product Info -->
						<div class="flex-1">
							<h3 class="text-lg font-bold text-primary">{{ item.product.name }}</h3>
							<p class="text-gray-600 text-sm mb-2">{{ item.product.description }}</p>
							<p class="text-secondary font-bold">$ {{ item.product.price.toFixed(2) }}</p>
						</div>

						<!-- Quantity & Actions -->
						<div class="flex flex-col items-end justify-between">
							<button (click)="removeFromCart(item.product.id)"
								class="text-red-500 hover:text-red-700 font-semibold">
								✕
							</button>

							<div class="flex items-center gap-2">
								<button (click)="updateQuantity(item.product.id, item.quantity - 1)"
									class="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300">
									-
								</button>
								<span class="px-3 font-semibold">{{ item.quantity }}</span>
								<button (click)="updateQuantity(item.product.id, item.quantity + 1)"
									class="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300">
									+
								</button>
							</div>

							<!-- Subtotal -->
							<p class="font-bold">$ {{ (item.product.price * item.quantity).toFixed(2) }}</p>
						</div>
					</div>
				</div>
				}
			</div>
			}
		</div>

		<!-- Order Summary -->
		<div class="lg:col-span-1">
			<div class="bg-white rounded-lg shadow p-6 sticky top-24">
				<h2 class="text-2xl font-bold text-primary mb-4">Resumen de Orden</h2>

				<div class="space-y-3 mb-6 pb-6 border-b">
					<div class="flex justify-between">
						<span>Subtotal:</span>
						<span class="font-semibold">$ {{ total().toFixed(2) }}</span>
					</div>
					<div class="flex justify-between">
						<span>Envío:</span>
						<span class="font-semibold">$ 5.00</span>
					</div>
					<div class="flex justify-between">
						<span>Impuestos (8%):</span>
						<span class="font-semibold">$ {{ (total() * 0.08).toFixed(2) }}</span>
					</div>
				</div>

				<div class="flex justify-between mb-6 text-xl font-bold text-secondary">
					<span>Total:</span>
					<span>$ {{ (total() + 5 + (total() * 0.08)).toFixed(2) }}</span>
				</div>

				@if (cartItems().length > 0) {
				<button routerLink="/checkout" class="btn-primary w-full mb-3">
					Proceder al Pago
				</button>

				<button (click)="clearCart()" class="btn-secondary w-full">
					Vaciar Carrito
				</button>
				}

				<a routerLink="/menu" class="block text-center mt-3 text-secondary hover:text-orange-700 font-semibold">
					← Continuar Comprando
				</a>
			</div>
		</div>
	</div>
</div>